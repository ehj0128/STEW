# 기술공부(일자별 정리)

## 7/20

### Git rule

#### Commit Message

[<type>(F/B)] <기능, 메세지>, <Jira key>

메세지 내용

>Feat(Feature) - 기능 추가 등
>
>Fix - 버그수정
>
>Docs(Document) - 문서 추가, 수정
>
>Style - 포맷, 세미콜론 등 기능변경이 아닌 문법 수정
>
>Refactor - 기능의 변경이 아닌 코드의 구조가 변경되었을 때
>
>Test - 테스트 내용 추가

#### Branch

Branch 종류

>Master
>
>Hotfix - 제품에서 발생한 버그를 수정
>
>Develop - 출시 버전을 개발
>
>Feature - Develop의 하위 브랜치, 기능을 개발

Naming 규칙

><branch 종류>-<Front | Back>-<Action>

### webRTC Study

[RTCMultiConnection](https://www.rtcmulticonnection.org/docs/getting-started/)에 소스를 이용하여 room-id를 입력하여 화상회의로 입장할 수 있는 방을 구현함

```html
<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div class="videos-container"></div>
  <input id="txt-roomid" placeholder="Unique room ID">
  <button id="btn-open-or-join-room">open or join</button>
  <script src="https://cdn.jsdelivr.net/npm/rtcmulticonnection@latest/dist/RTCMultiConnection.min.js"></script>
  <script src="https://rtcmulticonnection.herokuapp.com/socket.io/socket.io.js"></script>
  <script>
    var connection = new RTCMultiConnection()
    connection.socketURL = 'https://rtcmulticonnection.herokuapp.com:443/'
    connection.session = {
      audio: true,
      video: true,
      data: true
    }
    connection.sdpConstraints.mandatory = {
      OfferToReceiveAudio: true,
      OfferToReceiveVideo: true,
    }

    var roomID = document.getElementById('txt-roomid')
    roomID.value = connection.token()
    document.getElementById('btn-open-or-join-room').onclick = function () {
      // this.disabled = true
      connection.openOrJoin(roomID.value)
    }

  </script>
</body>

</html>
```

이후 학습내용

1. 방을 퇴장하는 방법
2. study아이디를 room-id로 사용하는 방법
3. video-tag배치
4. socket server(?)구현 

## 7/21

### webRTC Study

어제의 보안내용 중 해결 한 내용

1. 방을 퇴장하는 방법

   ```js
   connection.getAllParticipants().forEach((participantId) => {
     connection.disconnectWith(participantId);
   });  // getAllParticipants 접속한 사람들과 각각 연결을 끊어야함
   connection.attachStreams.forEach(function(localStream) {
     localStream.stop();
   });  // 비디오를 종료하는 로직
   connection.closeSocket(); // close socket.io connection
   ```

2. study아이디를 room-id로 사용하는 방법

   * Vue에서 사용할 때 data에 study-group의 id를 넣어놓고 자동으로 입장하게 구현 가능 

추가학습

```html
<div class="videos-container"></div>
<script>
    connection.videosContainer = document.querySelector('.videos-container');
    // 방에 입장하게 되면 자동으로 생성되는 video태그를 원하는 태그에 집어넣을 수 있다. 
</script>

```

이후 학습내용

1. video-tag배치
2. socket server(?)필요성 및 구현